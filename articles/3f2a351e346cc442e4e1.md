---
title: "ã„ã¤ã‚‚ã„ã¤ã‚‚å¿˜ã‚Œã¦ã—ã¾ã†ã®ã§ruby-buildã®configureã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®è¨­å®šã«ã¤ã„ã¦ãƒ¡ãƒ¢ã£ã¦ãŠã" # è¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«
emoji: "ğŸ˜¸" # ã‚¢ã‚¤ã‚­ãƒ£ãƒƒãƒã¨ã—ã¦ä½¿ã‚ã‚Œã‚‹çµµæ–‡å­—ï¼ˆ1æ–‡å­—ã ã‘ï¼‰
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢è¨˜äº‹
topics: ["ruby"] # ã‚¿ã‚°ã€‚["markdown", "rust", "aws"]ã®ã‚ˆã†ã«æŒ‡å®šã™ã‚‹
published: true # å…¬é–‹è¨­å®šï¼ˆfalseã«ã™ã‚‹ã¨ä¸‹æ›¸ãï¼‰
---
[ã“ã®è¨˜äº‹ã¯Qiitaã«æŠ•ç¨¿ã—ãŸè¨˜äº‹ã‚’è©¦ã—ã«ç§»è¡Œã—ãŸã‚‚ã®ã§ã™](https://qiita.com/raydive/items/e07611a6a30b985c9698)

æ¯åº¦æ¯åº¦ã‚°ã‚°ã£ãŸã‚Š[ruby-build](https://github.com/sstephenson/ruby-build)ã®ãƒšãƒ¼ã‚¸ã‚’è¦‹ã‚‹ã®ã‚‚ã ã‚‹ããªã£ã¦ããŸã®ã§ã€ã“ã“ã‚‰ã§ãƒ¡ãƒ¢æ›¸ãã—ã¦ãŠã„ã¦ã€è¨˜æ†¶ã«å®šç€ã•ã›ã‚‹ã€‚

## ruby-buildã®configureã‚ªãƒ—ã‚·ãƒ§ãƒ³
ruby-buildã§å¿…è¦ãªç’°å¢ƒå¤‰æ•°ã«ã¤ã„ã¦ã¯[ruby-buildã®Custom Build Definitions](https://github.com/rbenv/ruby-build#custom-build-definitions)ã®ã¨ã“ã‚ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ã€‚ã“ã®ä¸­ã§ä»Šå›å¿…è¦ã¨ã—ã¦ã„ã‚‹ã®ã¯ä»¥ä¸‹ã®2ã¤ã€‚

* CONFIGURE_OPTS
* RUBY_CONFIGURE_OPTS

### CONFIGURE_OPTS

> CONFIGURE_OPTS lets you pass additional options to ./configure.

å…ˆã»ã©ã®Special enviroment variablesã‹ã‚‰å¼•ç”¨ã™ã‚‹ã¨ã€CONFIGURE_OPTSã¯æ–‡å­—é€šã‚Š./configureã«optionã‚’æ¸¡ã™ã“ã¨ã«ãªã‚‹ã€‚

### RUBY_CONFIGURE_OPTS
å¤‰ã‚ã£ã¦RUBY_CONFIGURE_OPTSã®å ´åˆã¯ã©ã†ãªã‚‹ã‹ã¨ã„ã†ã¨ã€ã“ã¡ã‚‰ã‚‚configureã«optionã‚’æ¸¡ã™ã®ã¯åŒã˜ã ãŒrubyã«å¯¾ã—ã¦ã®ã¿é©å¿œã•ã‚Œã‚‹ã€‚ã“ã‚Œã¯ä¾‹ãˆã°ruby-buildã§rubyã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã«ä¾å­˜é–¢ä¿‚ãŒã‚ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å¯¾ã—ã¦ã¯é©å¿œã•ã‚Œãªã„ã€‚

ã¤ã„ã§ã«Special enviroment variablesã®æ–‡ç« ã‹ã‚‰ã™ã‚‹ã¨ã€ã“ã®ç’°å¢ƒå¤‰æ•°ã¯MRI(CRuby)ã®ã¿æœ‰åŠ¹ã¨èª­ã¿å–ã‚Œã‚‹ã€‚ç¢ºã‹ã«rubiniusã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨BUILD FAILDã«ãªã‚Šã¾ã™ã€‚

```bash
$ CONFIGURE_OPTS="--with-readline-dir=`brew --prefix readline` --with-openssl-dir=`brew --prefix openssl`" RUBY_CONFIGURE_OPTS="--with-readline-dir=`brew --prefix readline` --with-openssl-dir=`brew --prefix openssl`" rbenv install rbx-2.2.6
Downloading rubinius-2.2.6.tar.bz2...
-> http://releases.rubini.us/rubinius-2.2.6.tar.bz2
Installing rubinius-2.2.6...

BUILD FAILED

Inspect or clean up the working tree at /var/folders/_7/12w0r1850z9c0lp6sxr9x6ww0000gn/T/ruby-build.20140511110113.7856
Results logged to /var/folders/_7/12w0r1850z9c0lp6sxr9x6ww0000gn/T/ruby-build.20140511110113.7856.log

Last 10 log lines:
   --without-dtrace           Disable dtrace
   --with-rpath               Enable rpath
   --without-rpath            Disable rpath

 Help!
   --show                     Print the current configuration and exit
   -V, --verbose              Print additional info
   -h, --help                 Show this message

Unrecognized option: --with-readline-dir=/usr/local/opt/readline
```

## çµè«–
ä»Šã®ã¨ã“ã‚è‡ªåˆ†ã®ç’°å¢ƒã§configureã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒå¿…è¦ã¨ãªã‚‹ã®ã¯Macç’°å¢ƒã®ã¿ï¼ˆopensslã¨readlineã‚’brewã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚‚ã®ã«ã—ã¦ãŠããŸã„ï¼‰ã ã‘ã§ã€ã‹ã¤ruby-buildã§ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã¯ãªã„ã®ã§ï¼ˆ2.0ä»¥é™ã¯ãªã‹ã£ãŸè¨˜æ†¶ï¼‰ã€ã©ã¡ã‚‰ã§è¨­å®šã—ã¦ã‚‚ã‚ã¾ã‚Šå¤‰ã‚ã‚Šãªã•ãã†ã¨æ€ãˆã‚‹ã€‚ã²ã¨ã¾ãšCONFIGURE_OPTSã§è¨­å®šã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ã‹ãªã€‚

